<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Constantinopla Kart Championship 2025</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: white;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .racing-stripes {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                repeating-linear-gradient(
                    45deg,
                    transparent 0px,
                    transparent 50px,
                    rgba(255, 255, 255, 0.02) 50px,
                    rgba(255, 255, 255, 0.02) 52px
                );
            pointer-events: none;
            z-index: 1;
        }

        .container {
            position: relative;
            z-index: 2;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            padding: 30px 0;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .header h1 {
            font-size: 3.5rem;
            font-weight: bold;
            background: linear-gradient(45deg, #ff6b35, #f7931e, #ffcc02);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 0 30px rgba(255, 107, 53, 0.5);
            margin-bottom: 10px;
            animation: glow 2s ease-in-out infinite alternate;
        }

        @keyframes glow {
            from { filter: drop-shadow(0 0 10px rgba(255, 107, 53, 0.3)); }
            to { filter: drop-shadow(0 0 20px rgba(255, 107, 53, 0.6)); }
        }

        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
            letter-spacing: 1px;
        }

        .nav-tabs {
            display: flex;
            justify-content: center;
            margin-bottom: 30px;
            gap: 10px;
            flex-wrap: wrap;
        }

        .tab {
            padding: 15px 30px;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 107, 53, 0.3);
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .tab:hover {
            background: rgba(255, 107, 53, 0.2);
            border-color: #ff6b35;
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(255, 107, 53, 0.3);
        }

        .tab.active {
            background: linear-gradient(45deg, #ff6b35, #f7931e);
            border-color: #ff6b35;
            color: white;
            box-shadow: 0 0 20px rgba(255, 107, 53, 0.5);
        }

        .content-section {
            display: none;
        }

        .content-section.active {
            display: block;
            animation: fadeIn 0.5s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .standings-table, .results-table {
            background: rgba(0, 0, 0, 0.4);
            border-radius: 15px;
            overflow: hidden;
            margin-bottom: 30px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .table-header {
            background: linear-gradient(45deg, #ff6b35, #f7931e);
            padding: 20px;
            text-align: center;
            font-size: 1.5rem;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        th, td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        th {
            background: rgba(255, 107, 53, 0.2);
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-size: 0.9rem;
        }

        tr:hover {
            background: rgba(255, 255, 255, 0.05);
            transform: scale(1.01);
            transition: all 0.3s ease;
        }

        .position {
            font-weight: bold;
            font-size: 1.2rem;
            color: #ff6b35;
        }

        .driver-name {
            font-weight: bold;
            font-size: 1.1rem;
        }

        .points {
            font-weight: bold;
            color: #ffcc02;
            font-size: 1.1rem;
        }

        .podium-1 { background: linear-gradient(45deg, #ffd700, #ffed4e); color: #333; }
        .podium-2 { background: linear-gradient(45deg, #c0c0c0, #e5e5e5); color: #333; }
        .podium-3 { background: linear-gradient(45deg, #cd7f32, #daa520); color: white; }

        .circuit-selector {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .circuit-btn {
            padding: 12px 25px;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
            color: white;
        }

        .circuit-btn:hover {
            background: rgba(255, 107, 53, 0.3);
            border-color: #ff6b35;
            transform: translateY(-2px);
        }

        .circuit-btn.active {
            background: #ff6b35;
            border-color: #ff6b35;
        }

        .qualifying-race-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .time {
            font-family: 'Courier New', monospace;
            font-weight: bold;
            color: #00ff88;
        }

        .fastest-lap {
            color: #ff1493;
            font-weight: bold;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .stat-card {
            background: rgba(0, 0, 0, 0.4);
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: bold;
            color: #ff6b35;
            margin-bottom: 10px;
        }

        .stat-label {
            font-size: 1rem;
            opacity: 0.8;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        @media (max-width: 768px) {
            .header h1 { font-size: 2.5rem; }
            .qualifying-race-container { grid-template-columns: 1fr; }
            th, td { padding: 10px 8px; font-size: 0.9rem; }
            .container { padding: 10px; }
        }
    </style>
</head>
<body>
    <div class="racing-stripes"></div>
    
    <div class="container">
        <div class="header">
            <h1>CONSTANTINOPLA KART CHAMPIONSHIP</h1>
            <p>Season 2025 â€¢ Bongo Cat Racing Series</p>
        </div>

        <div class="nav-tabs">
            <div class="tab active" onclick="showSection('championship')">Championship</div>
            <div class="tab" onclick="showSection('circuits')">Circuit Results</div>
            <div class="tab" onclick="showSection('stats')">Statistics</div>
        </div>

        <!-- Championship Standings -->
        <div id="championship" class="content-section active">
            <div class="standings-table">
                <div class="table-header">Championship Standings</div>
                <table>
                    <thead>
                        <tr>
                            <th>Pos</th>
                            <th>Driver</th>
                            <th>Team</th>
                            <th>Points</th>
                            <th>Wins</th>
                            <th>Podiums</th>
                            <th>Best Finish</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="podium-1">
                            <td class="position">1</td>
                            <td class="driver-name">Alex Rodriguez</td>
                            <td>Thunder Racing</td>
                            <td class="points">156</td>
                            <td>4</td>
                            <td>6</td>
                            <td>1st</td>
                        </tr>
                        <tr class="podium-2">
                            <td class="position">2</td>
                            <td class="driver-name">Maria Santos</td>
                            <td>Speed Demons</td>
                            <td class="points">142</td>
                            <td>3</td>
                            <td>5</td>
                            <td>1st</td>
                        </tr>
                        <tr class="podium-3">
                            <td class="position">3</td>
                            <td class="driver-name">Jake Thompson</td>
                            <td>Velocity Kings</td>
                            <td class="points">128</td>
                            <td>2</td>
                            <td>4</td>
                            <td>1st</td>
                        </tr>
                        <tr>
                            <td class="position">4</td>
                            <td class="driver-name">Sofia Chen</td>
                            <td>Apex Racers</td>
                            <td class="points">114</td>
                            <td>1</td>
                            <td>3</td>
                            <td>1st</td>
                        </tr>
                        <tr>
                            <td class="position">5</td>
                            <td class="driver-name">Lucas Miller</td>
                            <td>Storm Racing</td>
                            <td class="points">98</td>
                            <td>1</td>
                            <td>2</td>
                            <td>1st</td>
                        </tr>
                        <tr>
                            <td class="position">6</td>
                            <td class="driver-name">Emma Wilson</td>
                            <td>Lightning Bolts</td>
                            <td class="points">87</td>
                            <td>0</td>
                            <td>2</td>
                            <td>2nd</td>
                        </tr>
                        <tr>
                            <td class="position">7</td>
                            <td class="driver-name">Ryan Cooper</td>
                            <td>Fire Racers</td>
                            <td class="points">76</td>
                            <td>0</td>
                            <td>1</td>
                            <td>2nd</td>
                        </tr>
                        <tr>
                            <td class="position">8</td>
                            <td class="driver-name">Isabella Garcia</td>
                            <td>Turbo Force</td>
                            <td class="points">65</td>
                            <td>0</td>
                            <td>1</td>
                            <td>3rd</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Circuit Results -->
        <div id="circuits" class="content-section">
            <div class="circuit-selector">
                <div class="circuit-btn active" onclick="showCircuit('silverstone')">Silverstone GP</div>
                <div class="circuit-btn" onclick="showCircuit('monaco')">Monaco Street</div>
                <div class="circuit-btn" onclick="showCircuit('spa')">Spa-Francorchamps</div>
                <div class="circuit-btn" onclick="showCircuit('monza')">Monza Speed</div>
            </div>

            <div id="silverstone" class="circuit-results active-circuit">
                <div class="qualifying-race-container">
                    <div class="standings-table">
                        <div class="table-header">Qualifying Results</div>
                        <table>
                            <thead>
                                <tr>
                                    <th>Pos</th>
                                    <th>Driver</th>
                                    <th>Q1</th>
                                    <th>Q2</th>
                                    <th>Q3</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="position">1</td>
                                    <td class="driver-name">Alex Rodriguez</td>
                                    <td class="time">1:24.567</td>
                                    <td class="time">1:23.891</td>
                                    <td class="time fastest-lap">1:23.234</td>
                                </tr>
                                <tr>
                                    <td class="position">2</td>
                                    <td class="driver-name">Maria Santos</td>
                                    <td class="time">1:24.789</td>
                                    <td class="time">1:24.123</td>
                                    <td class="time">1:23.456</td>
                                </tr>
                                <tr>
                                    <td class="position">3</td>
                                    <td class="driver-name">Jake Thompson</td>
                                    <td class="time">1:25.012</td>
                                    <td class="time">1:24.345</td>
                                    <td class="time">1:23.678</td>
                                </tr>
                                <tr>
                                    <td class="position">4</td>
                                    <td class="driver-name">Sofia Chen</td>
                                    <td class="time">1:25.234</td>
                                    <td class="time">1:24.567</td>
                                    <td class="time">1:23.890</td>
                                </tr>
                                <tr>
                                    <td class="position">5</td>
                                    <td class="driver-name">Lucas Miller</td>
                                    <td class="time">1:25.456</td>
                                    <td class="time">1:24.789</td>
                                    <td class="time">1:24.012</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="standings-table">
                        <div class="table-header">Race Results</div>
                        <table>
                            <thead>
                                <tr>
                                    <th>Pos</th>
                                    <th>Driver</th>
                                    <th>Time</th>
                                    <th>Gap</th>
                                    <th>Pts</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="podium-1">
                                    <td class="position">1</td>
                                    <td class="driver-name">Alex Rodriguez</td>
                                    <td class="time">28:45.123</td>
                                    <td>-</td>
                                    <td class="points">25</td>
                                </tr>
                                <tr class="podium-2">
                                    <td class="position">2</td>
                                    <td class="driver-name">Maria Santos</td>
                                    <td class="time">28:47.456</td>
                                    <td>+2.333</td>
                                    <td class="points">18</td>
                                </tr>
                                <tr class="podium-3">
                                    <td class="position">3</td>
                                    <td class="driver-name">Jake Thompson</td>
                                    <td class="time">28:49.789</td>
                                    <td>+4.666</td>
                                    <td class="points">15</td>
                                </tr>
                                <tr>
                                    <td class="position">4</td>
                                    <td class="driver-name">Sofia Chen</td>
                                    <td class="time">28:52.012</td>
                                    <td>+6.889</td>
                                    <td class="points">12</td>
                                </tr>
                                <tr>
                                    <td class="position">5</td>
                                    <td class="driver-name">Lucas Miller</td>
                                    <td class="time">28:54.345</td>
                                    <td>+9.222</td>
                                    <td class="points">10</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <div id="monaco" class="circuit-results">
                <div class="qualifying-race-container">
                    <div class="standings-table">
                        <div class="table-header">Qualifying Results</div>
                        <table>
                            <thead>
                                <tr>
                                    <th>Pos</th>
                                    <th>Driver</th>
                                    <th>Q1</th>
                                    <th>Q2</th>
                                    <th>Q3</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="position">1</td>
                                    <td class="driver-name">Maria Santos</td>
                                    <td class="time">1:18.567</td>
                                    <td class="time">1:17.891</td>
                                    <td class="time fastest-lap">1:17.234</td>
                                </tr>
                                <tr>
                                    <td class="position">2</td>
                                    <td class="driver-name">Alex Rodriguez</td>
                                    <td class="time">1:18.789</td>
                                    <td class="time">1:18.123</td>
                                    <td class="time">1:17.456</td>
                                </tr>
                                <tr>
                                    <td class="position">3</td>
                                    <td class="driver-name">Sofia Chen</td>
                                    <td class="time">1:19.012</td>
                                    <td class="time">1:18.345</td>
                                    <td class="time">1:17.678</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="standings-table">
                        <div class="table-header">Race Results</div>
                        <table>
                            <thead>
                                <tr>
                                    <th>Pos</th>
                                    <th>Driver</th>
                                    <th>Time</th>
                                    <th>Gap</th>
                                    <th>Pts</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="podium-1">
                                    <td class="position">1</td>
                                    <td class="driver-name">Maria Santos</td>
                                    <td class="time">32:15.789</td>
                                    <td>-</td>
                                    <td class="points">25</td>
                                </tr>
                                <tr class="podium-2">
                                    <td class="position">2</td>
                                    <td class="driver-name">Alex Rodriguez</td>
                                    <td class="time">32:17.234</td>
                                    <td>+1.445</td>
                                    <td class="points">18</td>
                                </tr>
                                <tr class="podium-3">
                                    <td class="position">3</td>
                                    <td class="driver-name">Sofia Chen</td>
                                    <td class="time">32:19.567</td>
                                    <td>+3.778</td>
                                    <td class="points">15</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <div id="spa" class="circuit-results">
                <div class="qualifying-race-container">
                    <div class="standings-table">
                        <div class="table-header">Qualifying Results</div>
                        <table>
                            <thead>
                                <tr>
                                    <th>Pos</th>
                                    <th>Driver</th>
                                    <th>Q1</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="position">1</td>
                                    <td class="driver-name">Jake Thompson</td>
                                    <td class="time fastest-lap">2:15.234</td>
                                </tr>
                                <tr>
                                    <td class="position">2</td>
                                    <td class="driver-name">Alex Rodriguez</td>
                                    <td class="time">2:15.456</td>
                                </tr>
                                <tr>
                                    <td class="position">3</td>
                                    <td class="driver-name">Lucas Miller</td>
                                    <td class="time">2:15.678</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="standings-table">
                        <div class="table-header">Race Results</div>
                        <table>
                            <thead>
                                <tr>
                                    <th>Pos</th>
                                    <th>Driver</th>
                                    <th>Time</th>
                                    <th>Gap</th>
                                    <th>Pts</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="podium-1">
                                    <td class="position">1</td>
                                    <td class="driver-name">Jake Thompson</td>
                                    <td class="time">45:23.456</td>
                                    <td>-</td>
                                    <td class="points">25</td>
                                </tr>
                                <tr class="podium-2">
                                    <td class="position">2</td>
                                    <td class="driver-name">Alex Rodriguez</td>
                                    <td class="time">45:25.123</td>
                                    <td>+1.667</td>
                                    <td class="points">18</td>
                                </tr>
                                <tr class="podium-3">
                                    <td class="position">3</td>
                                    <td class="driver-name">Lucas Miller</td>
                                    <td class="time">45:27.890</td>
                                    <td>+4.434</td>
                                    <td class="points">15</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <div id="monza" class="circuit-results">
                <div class="qualifying-race-container">
                    <div class="standings-table">
                        <div class="table-header">Qualifying Results</div>
                        <table>
                            <thead>
                                <tr>
                                    <th>Pos</th>
                                    <th>Driver</th>
                                    <th>Q1</th>
                                    <th>Q2</th>
                                    <th>Q3</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="position">1</td>
                                    <td class="driver-name">Sofia Chen</td>
                                    <td class="time">1:21.567</td>
                                    <td class="time">1:20.891</td>
                                    <td class="time fastest-lap">1:20.234</td>
                                </tr>
                                <tr>
                                    <td class="position">2</td>
                                    <td class="driver-name">Maria Santos</td>
                                    <td class="time">1:21.789</td>
                                    <td class="time">1:21.123</td>
                                    <td class="time">1:20.456</td>
                                </tr>
                                <tr>
                                    <td class="position">3</td>
                                    <td class="driver-name">Alex Rodriguez</td>
                                    <td class="time">1:22.012</td>
                                    <td class="time">1:21.345</td>
                                    <td class="time">1:20.678</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="standings-table">
                        <div class="table-header">Race Results</div>
                        <table>
                            <thead>
                                <tr>
                                    <th>Pos</th>
                                    <th>Driver</th>
                                    <th>Time</th>
                                    <th>Gap</th>
                                    <th>Pts</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="podium-1">
                                    <td class="position">1</td>
                                    <td class="driver-name">Sofia Chen</td>
                                    <td class="time">26:42.123</td>
                                    <td>-</td>
                                    <td class="points">25</td>
                                </tr>
                                <tr class="podium-2">
                                    <td class="position">2</td>
                                    <td class="driver-name">Maria Santos</td>
                                    <td class="time">26:43.456</td>
                                    <td>+1.333</td>
                                    <td class="points">18</td>
                                </tr>
                                <tr class="podium-3">
                                    <td class="position">3</td>
                                    <td class="driver-name">Alex Rodriguez</td>
                                    <td class="time">26:45.789</td>
                                    <td>+3.666</td>
                                    <td class="points">15</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <!-- Statistics -->
        <div id="stats" class="content-section">
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number">8</div>
                    <div class="stat-label">Total Races</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">4</div>
                    <div class="stat-label">Circuits</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">1:17.234</div>
                    <div class="stat-label">Fastest Lap</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">8</div>
                    <div class="stat-label">Different Winners</div>
                </div>
            </div>

            <div class="standings-table">
                <div class="table-header">Fastest Laps by Circuit</div>
                <table>
                    <thead>
                        <tr>
                            <th>Circuit</th>
                            <th>Driver</th>
                            <th>Time</th>
                            <th>Session</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Monaco Street</td>
                            <td class="driver-name">Maria Santos</td>
                            <td class="time fastest-lap">1:17.234</td>
                            <td>Qualifying</td>
                        </tr>
                        <tr>
                            <td>Monza Speed</td>
                            <td class="driver-name">Sofia Chen</td>
                            <td class="time fastest-lap">1:20.234</td>
                            <td>Qualifying</td>
                        </tr>
                        <tr>
                            <td>Spa-Francorchamps</td>
                            <td class="driver-name">Jake Thompson</td>
                            <td class="time fastest-lap">2:15.234</td>
                            <td>Qualifying</td>
                        </tr>
                        <tr>
                            <td>Silverstone GP</td>
                            <td class="driver-name">Alex Rodriguez</td>
                            <td class="time fastest-lap">1:23.234</td>
                            <td>Qualifying</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="standings-table">
                <div class="table-header">Team Championship</div>
                <table>
                    <thead>
                        <tr>
                            <th>Pos</th>
                            <th>Team</th>
                            <th>Points</th>
                            <th>Wins</th>
                            <th>Podiums</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="podium-1">
                            <td class="position">1</td>
                            <td class="driver-name">Thunder Racing</td>
                            <td class="points">156</td>
                            <td>4</td>
                            <td>6</td>
                        </tr>
                        <tr class="podium-2">
                            <td class="position">2</td>
                            <td class="driver-name">Speed Demons</td>
                            <td class="points">142</td>
                            <td>3</td>
                            <td>5</td>
                        </tr>
                        <tr class="podium-3">
                            <td class="position">3</td>
                            <td class="driver-name">Velocity Kings</td>
                            <td class="points">128</td>
                            <td>2</td>
                            <td>4</td>
                        </tr>
                        <tr>
                            <td class="position">4</td>
                            <td class="driver-name">Apex Racers</td>
                            <td class="points">114</td>
                            <td>1</td>
                            <td>3</td>
                        </tr>
                        <tr>
                            <td class="position">5</td>
                            <td class="driver-name">Storm Racing</td>
                            <td class="points">98</td>
                            <td>1</td>
                            <td>2</td>
                        </tr>
                        <tr>
                            <td class="position">6</td>
                            <td class="driver-name">Lightning Bolts</td>
                            <td class="points">87</td>
                            <td>0</td>
                            <td>2</td>
                        </tr>
                        <tr>
                            <td class="position">7</td>
                            <td class="driver-name">Fire Racers</td>
                            <td class="points">76</td>
                            <td>0</td>
                            <td>1</td>
                        </tr>
                        <tr>
                            <td class="position">8</td>
                            <td class="driver-name">Turbo Force</td>
                            <td class="points">65</td>
                            <td>0</td>
                            <td>1</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- PapaParse CSV Library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"></script>
    
    <script>
        // Global data storage
        let circuitData = {};
        let championshipData = [];

        // Tab switching functionality
        function showSection(sectionId) {
            // Hide all sections
            const sections = document.querySelectorAll('.content-section');
            sections.forEach(section => section.classList.remove('active'));
            
            // Remove active class from all tabs
            const tabs = document.querySelectorAll('.tab');
            tabs.forEach(tab => tab.classList.remove('active'));
            
            // Show selected section and activate tab
            document.getElementById(sectionId).classList.add('active');
            event.target.classList.add('active');
        }

        // Circuit switching functionality
        function showCircuit(circuitId) {
            // Hide all circuit results
            const circuits = document.querySelectorAll('.circuit-results');
            circuits.forEach(circuit => circuit.classList.remove('active-circuit'));
            
            // Remove active class from all circuit buttons
            const buttons = document.querySelectorAll('.circuit-btn');
            buttons.forEach(btn => btn.classList.remove('active'));
            
            // Show selected circuit and activate button
            document.getElementById(circuitId).classList.add('active-circuit');
            event.target.classList.add('active');
        }

        // Load CSV data
        async function loadCSVData() {
            try {
                // List of circuits and their CSV files
                const circuits = [
                    { id: 'silverstone', name: 'Silverstone GP' },
                    { id: 'monaco', name: 'Monaco Street' },
                    { id: 'spa', name: 'Spa-Francorchamps' },
                    { id: 'monza', name: 'Monza Speed' }
                ];

                // Load data for each circuit
                for (const circuit of circuits) {
                    try {
                        // Load qualifying data
                        const qualifyingResponse = await fetch(`data/${circuit.id}_qualifying.csv`);
                        if (qualifyingResponse.ok) {
                            const qualifyingCsv = await qualifyingResponse.text();
                            const qualifyingData = Papa.parse(qualifyingCsv, {
                                header: true,
                                skipEmptyLines: true,
                                dynamicTyping: true
                            });

                            // Load race data
                            const raceResponse = await fetch(`data/${circuit.id}_race.csv`);
                            if (raceResponse.ok) {
                                const raceCsv = await raceResponse.text();
                                const raceData = Papa.parse(raceCsv, {
                                    header: true,
                                    skipEmptyLines: true,
                                    dynamicTyping: true
                                });

                                circuitData[circuit.id] = {
                                    name: circuit.name,
                                    qualifying: qualifyingData.data,
                                    race: raceData.data
                                };

                                // Update the circuit display
                                updateCircuitDisplay(circuit.id);
                            }
                        }
                    } catch (error) {
                        console.log(`No CSV data found for ${circuit.name}, using default data`);
                    }
                }

                // Load championship data
                try {
                    const championshipResponse = await fetch('data/championship.csv');
                    if (championshipResponse.ok) {
                        const championshipCsv = await championshipResponse.text();
                        const championshipParsed = Papa.parse(championshipCsv, {
                            header: true,
                            skipEmptyLines: true,
                            dynamicTyping: true
                        });
                        
                        championshipData = championshipParsed.data;
                        updateChampionshipDisplay();
                    }
                } catch (error) {
                    console.log('No championship CSV found, using default data');
                }

            } catch (error) {
                console.error('Error loading CSV data:', error);
            }
        }

        // Update circuit display with CSV data
        function updateCircuitDisplay(circuitId) {
            const data = circuitData[circuitId];
            if (!data) return;

            const circuitDiv = document.getElementById(circuitId);
            if (!circuitDiv) return;

            // Update qualifying table
            const qualifyingTable = circuitDiv.querySelector('.standings-table:first-child tbody');
            if (qualifyingTable && data.qualifying) {
                qualifyingTable.innerHTML = '';
                data.qualifying.forEach((row, index) => {
                    const tr = document.createElement('tr');
                    const fastestQ3 = data.qualifying.reduce((min, r) => 
                        (r.Q3 && (!min.Q3 || r.Q3 < min.Q3)) ? r : min
                    );
                    
                    tr.innerHTML = `
                        <td class="position">${row.Position || index + 1}</td>
                        <td class="driver-name">${row.Driver || ''}</td>
                        <td class="time">${row.Q1 || '-'}</td>
                        <td class="time">${row.Q2 || '-'}</td>
                        <td class="time ${row === fastestQ3 ? 'fastest-lap' : ''}">${row.Q3 || '-'}</td>
                    `;
                    qualifyingTable.appendChild(tr);
                });
            }

            // Update race table
            const raceTable = circuitDiv.querySelector('.standings-table:last-child tbody');
            if (raceTable && data.race) {
                raceTable.innerHTML = '';
                data.race.forEach((row, index) => {
                    const tr = document.createElement('tr');
                    const position = row.Position || index + 1;
                    
                    // Add podium classes
                    if (position === 1) tr.classList.add('podium-1');
                    else if (position === 2) tr.classList.add('podium-2');
                    else if (position === 3) tr.classList.add('podium-3');
                    
                    tr.innerHTML = `
                        <td class="position">${position}</td>
                        <td class="driver-name">${row.Driver || ''}</td>
                        <td class="time">${row.Time || '-'}</td>
                        <td>${row.Gap || (position === 1 ? '-' : '')}</td>
                        <td class="points">${row.Points || 0}</td>
                    `;
                    raceTable.appendChild(tr);
                });
            }
        }

        // Update championship display with CSV data
        function updateChampionshipDisplay() {
            if (championshipData.length === 0) return;

            const championshipTable = document.querySelector('#championship tbody');
            if (!championshipTable) return;

            championshipTable.innerHTML = '';
            championshipData.forEach((row, index) => {
                const tr = document.createElement('tr');
                const position = row.Position || index + 1;
                
                // Add podium classes
                if (position === 1) tr.classList.add('podium-1');
                else if (position === 2) tr.classList.add('podium-2');
                else if (position === 3) tr.classList.add('podium-3');
                
                tr.innerHTML = `
                    <td class="position">${position}</td>
                    <td class="driver-name">${row.Driver || ''}</td>
                    <td>${row.Team || ''}</td>
                    <td class="points">${row.Points || 0}</td>
                    <td>${row.Wins || 0}</td>
                    <td>${row.Podiums || 0}</td>
                    <td>${row.BestFinish || '-'}</td>
                `;
                championshipTable.appendChild(tr);
            });
        }

        // Add some dynamic effects
        function animateTables() {
            const tables = document.querySelectorAll('table tbody tr');
            tables.forEach((row, index) => {
                row.style.opacity = '0';
                row.style.transform = 'translateY(20px)';
                setTimeout(() => {
                    row.style.transition = 'all 0.5s ease';
                    row.style.opacity = '1';
                    row.style.transform = 'translateY(0)';
                }, index * 50);
            });
        }

        // Initialize everything
        document.addEventListener('DOMContentLoaded', async function() {
            // Show default circuit
            document.getElementById('silverstone').style.display = 'block';
            
            // Load CSV data
            await loadCSVData();
            
            // Animate tables after data is loaded
            setTimeout(animateTables, 500);

            // Add racing stripe animation
            const stripes = document.querySelector('.racing-stripes');
            let position = 0;
            setInterval(() => {
                position += 0.5;
                stripes.style.backgroundPosition = `${position}px ${position}px`;
            }, 50);
        });

        // Manual data refresh function
        function refreshData() {
            loadCSVData().then(() => {
                animateTables();
                console.log('Data refreshed successfully');
            });
        }
    </script>

    <style>
        .circuit-results {
            display: none;
        }
        
        .circuit-results.active-circuit {
            display: block;
            animation: fadeIn 0.5s ease-in;
        }
        
        /* Enhanced mobile responsiveness */
        @media (max-width: 480px) {
            .nav-tabs {
                flex-direction: column;
                align-items: center;
            }
            
            .tab {
                width: 200px;
                text-align: center;
            }
            
            .circuit-selector {
                flex-direction: column;
                align-items: center;
            }
            
            .circuit-btn {
                width: 200px;
                text-align: center;
            }
            
            .qualifying-race-container {
                grid-template-columns: 1fr;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            th, td {
                padding: 8px 4px;
                font-size: 0.8rem;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .header p {
                font-size: 1rem;
            }
        }
        
        /* Additional racing-themed effects */
        .position:before {
            content: '#';
            color: rgba(255, 255, 255, 0.5);
            font-size: 0.8em;
        }
        
        .time {
            position: relative;
        }
        
        .time:hover {
            color: #ffcc02;
            text-shadow: 0 0 10px rgba(255, 204, 2, 0.5);
        }
        
        /* Checkered flag pattern for headers */
        .table-header {
            position: relative;
            overflow: hidden;
        }
        
        .table-header:before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(
                45deg, 
                transparent 25%, 
                rgba(255,255,255,0.1) 25%, 
                rgba(255,255,255,0.1) 50%, 
                transparent 50%, 
                transparent 75%, 
                rgba(255,255,255,0.1) 75%
            );
            background-size: 20px 20px;
            animation: checkered 3s linear infinite;
        }
        
        @keyframes checkered {
            0% { left: -100%; }
            100% { left: 100%; }
        }
    </style>
</body>
</html>